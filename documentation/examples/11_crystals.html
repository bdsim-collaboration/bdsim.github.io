<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Crystals &mdash; BDSIM 1.7.7.develop documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=fd3f3429" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=106dc6df"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Fields" href="fields.html" />
    <link rel="prev" title="Multiple Beam Lines" href="10_multiple_beamlines.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            BDSIM
              <img src="../_static/bdsim-logo-small.jpg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.7.7.develop
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../licence.html">Licence &amp; Disclaimer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authorship.html">Authorship</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running.html">Running BDSIM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../input_syntax.html">Input Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_construction.html">Model Construction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_control.html">Model Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_customisation.html">Model Customisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_conversion.html">Model Conversion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../externalgeometry.html">External Geometry Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../output.html">Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../output_analysis.html">Output Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python_utilities.html">Python Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../visualisation.html">Visualisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interfacing.html">Interfacing</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../examples.html">Examples &amp; Tests</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../examples.html#basic-examples">Basic Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#worked-examples">Worked Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#specific-machines">Specific Machines</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../examples.html#features">Features</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="features.html">Features</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="geometry.html">Geometry</a></li>
<li class="toctree-l4"><a class="reference internal" href="fields.html">Fields</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../support.html">Support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../history.html">Version History</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer.html">Developer Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_description.html">Model Description</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">BDSIM</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../examples.html">Examples &amp; Tests</a></li>
          <li class="breadcrumb-item"><a href="features.html">Features</a></li>
          <li class="breadcrumb-item"><a href="geometry.html">Geometry</a></li>
      <li class="breadcrumb-item active">Crystals</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/examples/11_crystals.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="crystals">
<span id="crystal-examples"></span><h1>Crystals<a class="headerlink" href="#crystals" title="Link to this heading"></a></h1>
<p>In each of the following examples one or more crystals are placed inside
a piece of beam pipe through the <cite>crystalcol</cite> beam line element.</p>
<p>As the typical angles for crystal channelling are very low (in the miliradian
to microradian regime), exaggerated examples are provided that are not
suitable for channelling studies but are however useful to visualise the
geometry involved. These exaggerated versions are suffixed with “strong”.</p>
<p>There is the possibility of one or two crystals. Models with “1” in the name
have only 1 and with “2” in the name two.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The crystal structure is independent of the geometry used and the
geometry merely acts as a shape where the crystal applies.</p>
</div>
<section id="crystal-box">
<h2>crystal-box<a class="headerlink" href="#crystal-box" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>crystal-box1-strong.gmad</p></li>
<li><p>crystal-box1.gmad</p></li>
<li><p>crystal-box2-strong.gmad</p></li>
</ul>
<p>Crystals with the simple box geometry.</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/crystal-box1-strong.png"><img alt="../_images/crystal-box1-strong.png" src="../_images/crystal-box1-strong.png" style="width: 60%;" /></a>
</figure>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/crystal-box2-strong.png"><img alt="../_images/crystal-box2-strong.png" src="../_images/crystal-box2-strong.png" style="width: 60%;" /></a>
</figure>
</section>
<section id="crystal-cylinder">
<h2>crystal-cylinder<a class="headerlink" href="#crystal-cylinder" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>crystal-cylinder1-strong.gmad</p></li>
<li><p>crystal-cylinder1.gmad</p></li>
<li><p>crystal-cylinder2-strong.gmad</p></li>
</ul>
<p>Crystals with geometry that’s a section of a hollow cylinder.</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/crystal-cylinder1-strong.png"><img alt="../_images/crystal-cylinder1-strong.png" src="../_images/crystal-cylinder1-strong.png" style="width: 60%;" /></a>
</figure>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/crystal-cylinder2-strong.png"><img alt="../_images/crystal-cylinder2-strong.png" src="../_images/crystal-cylinder2-strong.png" style="width: 60%;" /></a>
</figure>
</section>
<section id="id1">
<h2>crystal-cylinder<a class="headerlink" href="#id1" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>crystal-cylinder1-strong.gmad</p></li>
<li><p>crystal-cylinder1.gmad</p></li>
<li><p>crystal-cylinder2-strong.gmad</p></li>
</ul>
<p>Crystals with geometry that’s bent in both axes. This would similar to a small
section of a hollow torus, hence the “torus” name. However, this is constructed
as a <cite>G4ExtrudedSolid</cite> as it’s possible to choose angles that would result in
an unphysical torus.</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/crystal-torus1-strong.png"><img alt="../_images/crystal-torus1-strong.png" src="../_images/crystal-torus1-strong.png" style="width: 60%;" /></a>
</figure>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/crystal-torus2-strong.png"><img alt="../_images/crystal-torus2-strong.png" src="../_images/crystal-torus2-strong.png" style="width: 60%;" /></a>
</figure>
<p>To construct the extruded solid, a cross-section is made at one (local, not machine
coordinate frame) <cite>z</cite> plane and extruded along the (local) <cite>z</cite> axis with different
offsets in <cite>x</cite>. Currently, 30 points are used along each dimension. The points are
shown in the following figure.</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/crystal-torus2-strong-negz-cyrstals.png"><img alt="../_images/crystal-torus2-strong-negz-cyrstals.png" src="../_images/crystal-torus2-strong-negz-cyrstals.png" style="width: 40%;" /></a>
</figure>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="10_multiple_beamlines.html" class="btn btn-neutral float-left" title="Multiple Beam Lines" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="fields.html" class="btn btn-neutral float-right" title="Fields" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Beam Delivery Simulation (BDSIM) Copyright (c) Royal Holloway, University of London, 2001 - 2025.
      <span class="lastupdated">Last updated on Jun 13, 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-JYMKZHVZJ2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-JYMKZHVZJ2', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>